(this.webpackJsonptimer=this.webpackJsonptimer||[]).push([[0],{143:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(70),i=n.n(o),c=(n(85),n(21)),l=n.n(c),u=n(45),s=n(7),m=n(27),d=n.n(m),p=n(46),f=n.n(p),b=n(30),h=n(29),w=n(145),g=n(3),x=n(4);function v(){var e=Object(g.a)(["\n  width: 251px;\n  height: 50px;\n  background: #fff;\n  box-shadow: none;\n  outline: none;\n  border: 1px solid #dfe5ec;\n  p {\n    color: #4a4a4a;\n    text-transform: uppercase;\n    font-weight: 600;\n    font-size: 12px;\n    padding-top: 15px;\n  }\n  &:hover {\n    background-color: #2196f3;\n    p {\n      color: white;\n    }\n  }\n  &:focus {\n    background-color: #2196f3;\n    p {\n      color: white;\n    }\n  }\n"]);return v=function(){return e},e}function E(){var e=Object(g.a)(["\n  margin: 10px;\n"]);return E=function(){return e},e}function N(){var e=Object(g.a)(["\n  display: flex;\n  flex-direction: row;\n  width: 90%;\n  justify-content: space-around;\n  ul {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n  }\n  li {\n    list-style-type: none;\n    span {\n      text-transform: uppercase;\n      color: #a0b0b9;\n      font-size: 12px;\n    }\n  }\n"]);return N=function(){return e},e}function j(){var e=Object(g.a)(["\n  display: flex;\n  flex-direction: row;\n  width: 90%;\n  justify-content: space-around;\n  ul {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    max-width: 140px;\n  }\n  li {\n    list-style-type: none;\n    span {\n      text-transform: uppercase;\n      color: #a0b0b9;\n      font-size: 12px;\n    }\n  }\n"]);return j=function(){return e},e}function k(){var e=Object(g.a)(["\n  display: flex;\n  flex-direction: column;\n"]);return k=function(){return e},e}function O(){var e=Object(g.a)(["\n  display: flex;\n  flex-direction: row;\n  margin: 20px;\n  height: 35px;\n  width: 90%;\n  justify-content: space-between;\n  p {\n    color: #2196f3;\n    font-weight: 600;\n    font-size: 24px;\n  }\n  img {\n    width: 110px;\n    height: 36px;\n  }\n"]);return O=function(){return e},e}function y(){var e=Object(g.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 502px;\n  height: 184px;\n  margin: 10px;\n  background-color: white;\n  box-shadow: 0px 2px 8px rgba(0, 0, 0, 0.1);\n  border-radius: 5px;\n"]);return y=function(){return e},e}var T=x.a.div(y()),F=x.a.div(O()),M=x.a.div(k()),_=x.a.div(j()),C=x.a.div(N()),S=x.a.div(E()),A=x.a.button(v());function z(){var e=Object(g.a)(["\n  margin-left: 25px;\n"]);return z=function(){return e},e}function B(){var e=Object(g.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  list-style-type: none;\n  margin: 0;\n  margin-right: 40px;\n  background-color: white;\n  width: 250px;\n  height: 38px;\n  &:hover {\n    background-color: #f1fcff;\n  }\n"]);return B=function(){return e},e}function I(){var e=Object(g.a)(["\n  padding-top: 20px;\n  padding-left: 20px;\n  text-transform: uppercase;\n  font-size: 12px;\n"]);return I=function(){return e},e}function W(){var e=Object(g.a)(["\n  margin-top: 110px;\n  margin-right: 10px;\n  background-color: white;\n  width: 252px;\n  height: 245px;\n  padding: 0;\n  box-shadow: 0px 2px 8px rgba(0, 0, 0, 0.1);\n  border-radius: 5px;\n"]);return W=function(){return e},e}var J=x.a.ul(W()),L=x.a.p(I()),R=x.a.li(B()),q=x.a.span(z()),H=function(e){var t=Object(a.useState)({step:1}),n=Object(s.a)(t,2),o=n[0],i=n[1],c=Object(a.useState)([]),l=Object(s.a)(c,2),u=l[0],m=l[1],p=e.ticketsList,f=Object(a.useState)([]),g=Object(s.a)(f,2),x=g[0],v=g[1],E=u,N=[],j=o.step,k=[],O=[];0!==e.mainTickets.length&&(p=e.mainTickets);for(var y=0;y<p.length;y++){var z={id:y,price:p[y].price,company:"//pics.avs.io/99/36/{".concat(p[y].carrier,"}.png"),forward:"".concat(p[y].segments[0].origin,"-").concat(p[y].segments[0].destination),toward:"".concat(p[y].segments[1].origin,"-").concat(p[y].segments[0].destination),timeForward:p[y].segments[0].duration,timeToward:p[y].segments[1].duration,stepsForward:p[y].segments[0].stops.length,stepsToward:p[y].segments[1].stops.length,stepsForwardCities:p[y].segments[0].stops.join("-"),stepsTowardCities:p[y].segments[1].stops.join("-"),filter:Number(p[y].segments[0].stops.length+p[y].segments[1].stops.length),data:p[y].segments[0].date.split("T")[1].split(".")[0].split(":").splice(0,2)};O.push(z)}O.length>0&&console.log(O[0].data);var B=O.filter((function(e){return e.stepsForward+e.stepsToward===j}));if(E.length>1){var I=O.filter((function(e){return e.filter===E[0]-1})).slice(0,3);B=O.filter((function(e){return e.filter===E[E.length-1]-1})).slice(0,2).concat(I)}if(E.length>2){var W=O.filter((function(e){return e.filter===E[0]-1})).slice(0,2),H=O.filter((function(e){return e.filter===E[E.length-1]-1})).slice(0,1).concat(W);B=O.filter((function(e){return e.filter===E[E.length-2]-1})).slice(0,2).concat(H)}j>3&&(B=O.filter((function(e){return e.stepsForward+e.stepsToward<=j})));for(var P=0;P<5;P++)k.push(B[P]);x.length>0&&(k=x);var Z=k.filter((function(e){return void 0!==e}));return 0!==O.length?r.a.createElement("div",{className:d.a.body},r.a.createElement(J,null,r.a.createElement(L,null,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043e\u0441\u0442\u0430\u043d\u043e\u0432\u043e\u043a"),[{key:1,id:1,value:"\u0411\u0435\u0437 \u043e\u0441\u0442\u0430\u043d\u043e\u0432\u043e\u043a",steps:0},{key:2,id:2,value:"1 \u043e\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430",steps:1},{key:3,id:3,value:"2 \u043e\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0438",steps:2},{key:4,id:4,value:"3 \u043e\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0438",steps:3},{key:5,id:5,value:"\u0412\u0441\u0435",steps:5}].map((function(t){return r.a.createElement(R,{key:t.key},r.a.createElement(q,null,r.a.createElement(w.a,{onClick:function(){return function(t){p=e.mainTickets,v([]);var n=u.indexOf(t);N=Object(h.a)(u),-1===n?N.push(t):N.splice(n,1),m(N);var a=N.sort((function(e,t){return t-e}));0===a.length&&(a[0]=1),i(Object(b.a)({},o,{step:a[0]-1}))}(t.id)},checked:-1!==u.indexOf(t.id)},t.value)))}))),r.a.createElement("div",{className:d.a.wrapper},r.a.createElement(S,null,r.a.createElement(A,{onClick:function(){i(Object(b.a)({},o,{step:j}));var e=Object(h.a)(x);e=k.sort((function(e,t){return e.price-t.price})),v(e)}},r.a.createElement("p",null,"\u0421\u0430\u043c\u044b\u0439 \u0434\u0435\u0448\u0435\u0432\u044b\u0439")),r.a.createElement(A,{onClick:function(){i(Object(b.a)({},o,{step:j}));var e=Object(h.a)(x);e=k.sort((function(e,t){return e.timeForward+e.timeToward-(t.timeForward+t.timeToward)})),v(e)}},r.a.createElement("p",null,"\u0421\u0430\u043c\u044b\u0439 \u0431\u044b\u0441\u0442\u0440\u044b\u0439"))),Z.map((function(e){return r.a.createElement(T,{key:e.id},r.a.createElement(F,null,r.a.createElement("p",null,"".concat(e.price," P")),r.a.createElement("img",{src:e.company,alt:""})),r.a.createElement(M,null,r.a.createElement(_,null,r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("span",null,e.forward)),r.a.createElement("li",null,"".concat(e.data[0],":").concat(e.data[1]," - ").concat(Number(e.data[0])+Number(Math.floor(e.timeForward/60))>24?Number(e.data[0])+Number(Math.floor(e.timeForward/60))-24:Number(e.timeForward-60*Math.floor(e.timeForward/60))+Number(e.data[1])>=60?Number(e.data[0])+Number(Math.floor(e.timeForward/60))+1:Number(e.data[0])+Number(Math.floor(e.timeForward/60)),": ").concat(Number(e.timeForward-60*Math.floor(e.timeForward/60))+Number(e.data[1])>=60?Number(e.timeForward-60*Math.floor(e.timeForward/60))+Number(e.data[1])-60:Number(e.timeForward-60*Math.floor(e.timeForward/60))+Number(e.data[1])<10?String("".concat(Number(e.data[0])-Number(e.data[0]),"\n                          ").concat(Number(e.timeForward-60*Math.floor(e.timeForward/60))+Number(e.data[1]))):Number(e.timeForward-60*Math.floor(e.timeForward/60))+Number(e.data[1])))),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("span",null,"\u0432 \u043f\u0443\u0442\u0438")),r.a.createElement("li",null,"".concat(Math.floor(e.timeForward/60)," h ").concat(e.timeForward-60*Math.floor(e.timeForward/60)," min"))),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("span",null,"\u041f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0438")),r.a.createElement("li",null,e.stepsForwardCities.length>0?e.stepsForwardCities:"\u041d\u0435\u0442"))),r.a.createElement(C,null,r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("span",null,e.toward)),r.a.createElement("li",null,"".concat(e.data[0],":").concat(e.data[1]," - ").concat(Number(e.data[0])+Number(Math.floor(e.timeToward/60))>24?Number(e.data[0])+Number(Math.floor(e.timeToward/60))-24:Number(e.timeToward-60*Math.floor(e.timeToward/60))+Number(e.data[1])>=60?Number(e.data[0])+Number(Math.floor(e.timeToward/60))+1:Number(e.data[0])+Number(Math.floor(e.timeToward/60)),": ").concat(Number(e.timeToward-60*Math.floor(e.timeToward/60))+Number(e.data[1])>=60?Number(e.timeToward-60*Math.floor(e.timeToward/60))+Number(e.data[1])-60:Number(e.timeToward-60*Math.floor(e.timeToward/60))+Number(e.data[1])<10?String("".concat(Number(e.data[0])-Number(e.data[0]),"\n                          ").concat(Number(e.timeToward-60*Math.floor(e.timeToward/60))+Number(e.data[1]))):Number(e.timeToward-60*Math.floor(e.timeToward/60))+Number(e.data[1])))),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("span",null,"\u0432 \u043f\u0443\u0442\u0438")),r.a.createElement("li",null,"".concat(Math.floor(e.timeToward/60)," h ").concat(e.timeToward-60*Math.floor(e.timeToward/60)," min"))),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("span",null,"\u041f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0438")),r.a.createElement("li",null,e.stepsTowardCities.length>0?e.stepsTowardCities:"\u041d\u0435\u0442")))))})))):"please wait"},P=function(){var e=Object(a.useState)(""),t=Object(s.a)(e,2),n=t[0],o=t[1],i=Object(a.useState)(!1),c=Object(s.a)(i,2),m=c[0],d=c[1],p=Object(a.useState)([]),b=Object(s.a)(p,2),h=b[0],w=b[1],g=[];!0===m&&0===g.length&&(g=h);var x=[];if(0!==h.length)for(var v=0;v<50;v++)x.push(h[v]);return Object(a.useEffect)((function(){(function(){var e=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f()("https://front-test.beta.aviasales.ru/search");case 2:t=e.sent,o(t.data.searchId);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(a.useEffect)((function(){var e=function(){var t=Object(u.a)(l.a.mark((function t(){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(""===n){t.next=12;break}return t.prev=1,t.next=4,f()("https://front-test.beta.aviasales.ru/tickets?searchId=".concat(n));case 4:a=t.sent,d(a.data.stop),w(h.concat(a.data.tickets)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),"Request failed with status code 500"===t.t0.message&&e();case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(){return t.apply(this,arguments)}}();!1===m&&e()}),[n,m,h]),r.a.createElement(H,{ticketsList:x,mainTickets:g})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(P,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},27:function(e,t,n){e.exports={body:"App_body__ZTvxg",ul:"App_ul__241OB",ticketsArea:"App_ticketsArea__2vWHl",wrapper:"App_wrapper__2Rh_f"}},80:function(e,t,n){e.exports=n(143)},85:function(e,t,n){}},[[80,1,2]]]);
//# sourceMappingURL=main.ee3470ef.chunk.js.map